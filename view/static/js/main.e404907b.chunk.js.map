{"version":3,"sources":["constant.js","utils.js","App.js","serviceWorker.js","index.js"],"names":["EjetConstant","DEBUG","API","IMG_API","HTTP","window","location","protocol","IMG_UPLOAD","FILE_UPLOAD","Config","options","that","this","beforeRequest","fetch","api","method","credentials","headers","charset","Content-Type","body","JSON","stringify","params","then","response","json","result","afterRequest","status","success","data","sessionError","onerror","error","title","content","msg","okText","onOk","catch","ex","console","onError","S4","Math","random","toString","substring","str","Md5Lib","hex","salt","GUID","ss","i","length","charAt","charCodeAt","obj","undefined","newObj","Array","key","hasOwnProperty","deepclone","CONSTANT","Content","Layout","Sider","SubMenu","Menu","FormItem","Form","Item","TabPane","Tabs","Option","Select","src","state","collapsed","visible","menu","user","localStorage","getItem","parse","visibleAdd","addType","fileList","editorState","EditorState","createEmpty","showModal","_this","setState","dologin","Object","assertThisInitialized","utils","request","name","password","md5","logining","setItem","onCollapse","log","handleUpload","formData","FormData","append","addTo","version","isGBK","addLoading","reqwest","url","processData","withCredentials","init","clear","projectName","documentName","draftToHtml","convertToRaw","getCurrentContent","sharevisible","project","Modal","confirm","react_default","a","createElement","input","type","placeholder","onChange","e","target","value","cancelText","file","Promise","resolve","reject","resp","addDocumentVisible","link","err","_this2","layout","style","minHeight","theme","collapsible","className","es_menu","mode","map","index","icon","smenu","position","right","display","onClick","stopPropagation","removeProject","color","es_button","marginLeft","share","bind","marginRight","height","float","avatar","backgroundColor","username","href","logout","modal","onCancel","es_form","onSubmit","handleSubmit","maxLength","prefix","document","getElementById","select","successful","execCommand","alert","id","fontSize","es_select","suffixIcon","width","addDocLoading","okButtonProps","disabled","calcDisAbledDoc","loading","react_draft_wysiwyg","localization","locale","toolbar","image","component","popupClassName","urlEnabled","uploadEnabled","alignmentEnabled","uploadCallback","onImgUploaded","previewImage","inputAccept","alt","present","mandatory","defaultSize","wrapperClassName","editorClassName","onEditorStateChange","doAdd","calcDisAbled","tabs","defaultActiveKey","addTypeChange","tab","padding","marginBottom","replace","margin","es_checkbox","checked","textAlign","upload","action","handleChange","multiple","accept","onRemove","_ref","indexOf","newFileList","slice","splice","beforeUpload","_ref2","concat","toConsumableArray","React","Component","Boolean","hostname","match","ReactDOM","render","src_App_default","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ocACqBA,sCACVC,OAAQ,EADED,EAGVE,IAAM,GAHIF,EAIVG,QAAU,GAJAH,EAKVI,KAAQ,UAAYC,OAAOC,SAASC,SAAY,WAAa,UALnDP,EAMVQ,WAAcR,EAAaE,IAAI,yBANrBF,EAOVS,YAAeT,EAAaE,IAAI,6BCJtBQ,uLAeLC,GACd,IAAIC,EAAOC,KACPF,EAAQG,eAAkD,oBAA1BH,EAAQG,eAC3CH,EAAQG,gBAOT,OAAOC,MAAMF,KAAKX,IAAMS,EAAQK,IAAK,CACpCC,OAAQN,EAAQM,QAAU,OAC1BC,YAAa,UAGbC,QAVY,CACZC,QAAW,QACXC,eAAgB,mCAShBC,KAAMC,KAAKC,UAAUb,EAAQc,UAC3BC,KAAK,SAAUC,GACjB,OAAOA,EAASC,SACdF,KAAK,SAAUG,GAKjB,GAJIlB,EAAQmB,cAAgD,oBAAzBnB,EAAQmB,cAE1CnB,EAAQmB,eAEa,MAAlBD,EAAOE,OACqB,oBAApBpB,EAAQqB,SAClBrB,EAAQqB,QAAQH,EAAOI,WAElB,GAAsB,MAAlBJ,EAAOE,OACdpB,EAAQuB,cACVvB,EAAQuB,mBAEH,CACN,GAAItB,EAAKuB,QACR,OAEDvB,EAAKuB,SAAU,EACfvB,EAAKwB,MAAM,CACVC,MAAO,eACPC,QAAST,EAAOU,IAChBC,OAAQ,qBACRC,KAAM,WACL7B,EAAKuB,SAAU,QAIhBO,MAAM,SAAUC,GAKlB,GAJAC,QAAQR,MAAMO,GACVhC,EAAQmB,cAAgD,oBAAzBnB,EAAQmB,cAC1CnB,EAAQmB,eAELnB,EAAQkC,SAAsC,oBAApBlC,EAAQkC,QAErClC,EAAQkC,QAAQF,OACV,CACN,GAAI/B,EAAKuB,QACR,OAEDvB,EAAKuB,SAAU,EACfvB,EAAKwB,MAAM,CACVC,MAAO,eACPC,QAAS,iCACTE,OAAQ,qBACRC,KAAM,WACL7B,EAAKuB,SAAU,uCASnB,SAASW,IACR,OAA+B,OAArB,EAAIC,KAAKC,UAAuB,GAAGC,SAAS,IAAIC,UAAU,GAErE,OAAQJ,IAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAOA,IAAOA,oCAGnEK,GACd,OAAOC,IAAOC,IAAIxC,KAAKyC,KAAKH,GAAO,IAAMtC,KAAK0C,KAAO,IAAMJ,+BAGjDA,GACV,OAAOC,IAAOC,IAAIF,gCAGPA,GAEX,IADA,IAAIK,EAAK,GACAC,EAAI,EAAGA,EAAIN,EAAIO,OAAQD,IAC/BD,GAAML,EAAIQ,OAAOF,GAAGG,aAErB,OAAOJ,oCAESK,GAChB,GAAmB,kBAARA,EAAX,CAIA,GAAY,OAARA,EACH,OAAO,KAER,QAAYC,IAARD,EAAJ,CAGA,IAAIE,EAASF,aAAeG,MAAQ,GAAK,GACzC,IAAK,IAAIC,KAAOJ,EACXA,EAAIK,eAAeD,KACtBF,EAAOE,GAA2B,kBAAbJ,EAAII,GAAoBpD,KAAKsD,UAAUN,EAAII,IAAQJ,EAAII,IAG9E,OAAOF,WA9H2BK,wDCM5BC,iBAAmBC,IAAnBD,SAASE,EAAUD,IAAVC,MACXC,EAAUC,IAAKD,QACfE,EAAWC,IAAKC,KAChBC,EAAUC,IAAKD,QACfE,EAASC,IAAOD,oNAIpBE,IAAM,cAENC,MAAQ,CACNC,WAAW,EACXC,SAAS,EACTC,KAAM,GACNC,KAAMC,aAAaC,QAAQ,QAAUjE,KAAKkE,MAAMF,aAAaC,QAAQ,SAAW,KAChFP,IAAK,mBACLS,YAAY,EACZC,QAAS,IACTC,SAAU,GACVC,YAAaC,cAAYC,iBAS3BC,UAAY,WACVC,EAAKC,SAAS,CACZd,SAAS,OAIbe,QAAU,WACR,IAAIvF,EAAIwF,OAAAC,EAAA,EAAAD,QAAAC,EAAA,EAAAD,CAAAH,IACRK,EAAMC,QAAQ,CACZvF,IAAK,SACLS,OAAQ,CACN6D,KAAMW,EAAKf,MAAMsB,KACjBC,SAAUH,EAAMI,IAAIT,EAAKf,MAAMuB,WAEjC3F,cANY,WAOVF,EAAKsF,SAAS,CACZS,UAAU,KAGd7E,aAXY,WAYVlB,EAAKsF,SAAS,CACZS,UAAU,KAGd3E,QAhBY,SAgBJC,GACNsD,aAAaqB,QAAQ,OAAQrF,KAAKC,UAAUS,IAC5CrB,EAAKsF,SAAS,CACZZ,KAAMrD,EACNmD,SAAS,UAmBjByB,WAAa,SAAC1B,GACZvC,QAAQkE,IAAI3B,GACZc,EAAKC,SAAS,CAAEf,iBA4ElB4B,aAAe,WAAM,IACXnB,EAAaK,EAAKf,MAAlBU,SACFoB,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQtB,EAAS,IACjCoB,EAASE,OAAO,QAASjB,EAAKf,MAAMiC,OACpCH,EAASE,OAAO,UAAWjB,EAAKf,MAAMkC,SACtCJ,EAASE,OAAO,QAASjB,EAAKf,MAAMmC,MAAM,EAAE,GAC5CpB,EAAKC,SAAS,CACZoB,YAAY,IAIdC,IAAQ,CACNC,IAAKlB,EAAMpG,IAAM,UACjBe,OAAQ,OACRwG,aAAa,EACbC,iBAAiB,EACjBzF,KAAM+E,EACNhF,QAAS,SAACL,GAEgB,OADxBA,EAAWJ,KAAKkE,MAAM9D,EAASA,WAClBI,OACXkE,EAAKC,SAAS,CACZR,YAAY,EAAON,SAAS,EAAMkC,YAAY,IAGxB,MAApB3F,EAASI,SACXkE,EAAKC,SAAS,CACZN,SAAU,GACV0B,YAAY,EACZ5B,YAAY,IAEdO,EAAK0B,SAIXvF,MAAO,WACL6D,EAAKC,SAAS,CACZoB,YAAY,2FAxKAzB,GAClBhF,KAAKqF,SAAS,CACZL,iDAuCF,IAAIjF,EAAOC,KACXyF,EAAMC,QAAQ,CACZvF,IAAK,UACLc,aAFY,WAGVyD,aAAaqC,QACbhH,EAAKsF,SAAS,CACZZ,KAAM,uDAaZzE,KAAK8G,sCAIL,IAAI/G,EAAOC,KACXyF,EAAMC,QAAQ,CACZvF,IAAK,WACLC,OAAQ,MACRe,QAHY,SAGJC,GACNrB,EAAKsF,SAAS,CACZb,KAAMpD,6CAMAgC,GACZpD,KAAKqF,SAAS,CACZP,QAAS1B,2CAIX,MAA2B,MAAvBpD,KAAKqE,MAAMS,SACL9E,KAAKqE,MAAM2C,aAGbhH,KAAKqE,MAAMkC,UAAYvG,KAAKqE,MAAMiC,QAAUtG,KAAKqE,MAAMU,UAAY/E,KAAKqE,MAAMU,SAASlC,OAAS,4CAIxG,OAAQ7C,KAAKqE,MAAM4C,eAAiBjH,KAAKqE,MAAMiC,QAAUY,IAAYC,uBAAanH,KAAKqE,MAAMW,YAAYoC,sDAIzG,IAAIrH,EAAOC,KACX,OAAQA,KAAKqE,MAAMS,SACjB,IAAK,IACHW,EAAMC,QAAQ,CACZvF,IAAK,eACLS,OAAQ,CACNoG,YAAahH,KAAKqE,MAAM2C,aAE1B/G,cALY,WAMVF,EAAKsF,SAAS,CACZoB,YAAY,KAGhBxF,aAVY,WAWVlB,EAAKsF,SAAS,CACZoB,YAAY,KAGhBpF,aAfY,WAgBVtB,EAAKsF,SAAS,CACZR,YAAY,EACZN,SAAS,KAGbpD,QArBY,WAsBVpB,EAAKsF,SAAS,CACZR,YAAY,IAEd9E,EAAK+G,UAGT,MACF,IAAK,IACH9G,KAAKkG,gDAgDTlG,KAAKqF,SAAS,CACZgC,cAAc,0CAIJC,GACZ,IAAI1B,EAAW,GACX7F,EAAOC,KACXuH,IAAMC,QAAQ,CACZhG,MAAO,2BACPC,QAASgG,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,KAAK,WAAWC,YAAY,WAAWC,SAAU,SAACC,GAAQpC,EAAWoC,EAAEC,OAAOC,SAC9FvG,OAAQ,KACRwG,WAAY,SACZvG,KAAM,WACJ,OAAO6D,EAAMC,QAAQ,CACnBvF,IAAK,kBACLS,OAAQ,CACNoG,YAAaM,EACb1B,SAAUH,EAAMI,IAAID,IAEtBzE,QANmB,WAOjBpB,EAAK+G,QAEPzF,aATmB,WAUjBtB,EAAKsF,SAAS,CACZR,YAAY,EACZN,SAAS,gDAQP6D,GACZ,IAAIrI,EAAOC,KACLmG,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,MAAO+B,GAChB,IAAIC,QAAQ,SAACC,EAASC,GAC3B7B,IAAQ,CACNC,IAAKlB,EAAMpG,IAAM,cACjBe,OAAQ,OACRwG,aAAa,EACbC,iBAAiB,EACjBzF,KAAM+E,IACLtF,KAAK,SAAUC,GAChB,OAAOJ,KAAKkE,MAAM9D,EAASA,YAC1BD,KAAK,SAAU2H,GACI,MAAhBA,EAAKtH,QACPnB,EAAKsF,SAAS,CACZoD,oBAAoB,EACpBlE,SAAS,IAEXgE,KAEoB,MAAhBC,EAAKtH,QACPoH,EAAQ,CAAElH,KAAM,CAAEsH,KAAMjD,EAAMnG,QAAUkJ,EAAKpH,SAGhD,SAAUuH,EAAKjH,GAChB6G,EAAOI,wCAKJ,IAAAC,EAAA5I,KACHD,EAAOC,KACX,OACEyH,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAQC,MAAO,CAAEC,UAAW,UAC1BtB,EAAAC,EAAAC,cAACjE,EAAD,CACEsF,MAAM,QACNC,aAAW,EACX3E,UAAWtE,KAAKqE,MAAMC,UACtB0B,WAAYhG,KAAKgG,YAEjByB,EAAAC,EAAAC,cAAA,OAAKuB,UAAU,SACfzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAMC,KAAK,UACRpJ,KAAKqE,MAAMG,KAAK6E,IAAI,SAAC7E,EAAM8E,GAC1B,OAAQ7B,EAAAC,EAAAC,cAAChE,EAAD,CACNP,IAAKkG,EACL9H,MAAOiG,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,YAAYJ,EAAAC,EAAAC,cAAA,YAAOnD,EAAKmB,QAE/CnB,EAAK8C,QAAQ+B,IAAI,SAACG,EAAO5G,GACxB,IAAI8E,EAAID,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEW,SAAU,aAC9BhC,EAAAC,EAAAC,cAAA,YAAO6B,GACNzJ,EAAKsE,MAAMI,KAAOgD,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEW,SAAU,WAAYC,MAAO,OAAQC,QAAS,iBAC7ElC,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAML,UAAU,iBAAiBU,QAAS,SAAC5B,GAAQA,EAAE6B,kBAAmBjB,EAAKkB,cAActF,EAAKmB,KAAK,IAAI6D,IAAUV,MAAO,CAAEiB,MAAO,WAAalC,KAAK,YAC9I,MAEX,OAAOJ,EAAAC,EAAAC,cAACwB,EAAA,EAAKpF,KAAN,CAAWX,IAAKkG,EAAQ,IAAM1G,EAAGgH,QAAS,kBAAMhB,EAAKvD,SAAS,CAAEjB,IAAKwE,EAAKxE,IAAMI,EAAKmB,KAAO,IAAM6D,MAAW9B,UAO9HD,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAQK,UAAU,OAChBzB,EAAAC,EAAAC,cAAA,OAAKuB,UAAU,UACZlJ,KAAKqE,MAAMI,KACVgD,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEa,QAAS,iBACrBlC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQnC,KAAK,UAAUiB,MAAO,CAAEmB,WAAY,QAAUL,QAAS,kBAAMhB,EAAKvD,SAAS,CAAER,YAAY,EAAMyB,MAAO,GAAIC,QAAS,GAAIxB,SAAU,GAAIiC,YAAa,OACxJS,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,eADb,eAGAJ,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQnC,KAAK,UAAU+B,QAAS,kBAAMhB,EAAKvD,SAAS,CAAEoD,oBAAoB,EAAMnC,MAAO,GAAIC,QAAS,GAAIxB,SAAU,GAAIiC,YAAa,GAAIC,aAAc,OACnJQ,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,cADb,gBAGAJ,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQnC,KAAK,UAAU+B,QAAS5J,KAAKkK,MAAMC,KAAKnK,OAC9CyH,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,cADb,UAIFJ,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEa,QAAS,iBACrBlC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQlB,MAAO,CAAEmB,WAAY,QAAUpC,KAAK,UAAU+B,QAAS5J,KAAKkK,MAAMC,KAAKnK,OAC7EyH,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,cADb,UAIH7H,KAAKqE,MAAMI,KACVgD,EAAAC,EAAAC,cAAA,QAAMmB,MAAO,CAAEsB,YAAa,OAAQC,OAAQ,OAAQV,QAAS,eAAgBW,MAAO,UAClF7C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAQzB,MAAO,CAAE0B,gBAAiB,UAAWJ,YAAa,QAAUb,KAAK,SACzE9B,EAAAC,EAAAC,cAAA,QAAMmB,MAAO,CAAEiB,MAAO,SAAtB,cAAuC/J,KAAKqE,MAAMI,KAAKgG,UACvDhD,EAAAC,EAAAC,cAAA,KAAG+C,KAAK,qBAAqB5B,MAAO,CAAEmB,WAAY,QAAUL,QAAS,kBAAMhB,EAAK+B,OAAOR,KAAKvB,EAAjBA,KAA3E,WAAyHnB,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQnC,KAAK,UAAU+B,QAAS,kBAAMhB,EAAKvD,SAAS,CAAEd,SAAS,MAA/D,UAG/HkD,EAAAC,EAAAC,cAACnE,EAAD,CAASsF,MAAO,CAAEuB,OAAQ,OAAQZ,SAAU,aAM1ChC,EAAAC,EAAAC,cAAA,UAAQvD,IAAKpE,KAAKqE,MAAMD,IAAK5C,MAAM,cAGvCiG,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CACEpJ,MAAM,QACN+C,QAASvE,KAAKqE,MAAME,QACpB3C,KAAM5B,KAAKsF,QACXuF,SAAU,kBAAMjC,EAAKvD,SAAS,CAAEd,SAAS,KACzC5C,OAAO,QACPwG,WAAW,UAEXV,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAMC,SAAU/K,KAAKgL,aAAc9B,UAAU,cAC3CzB,EAAAC,EAAAC,cAAC9D,EAAD,KACE4D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOqD,UAAW,GAAIC,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,OAAOiB,MAAO,CAAEiB,MAAO,qBAAyBhC,SAAU,SAACC,GAAD,OAAOY,EAAKvD,SAAS,CAAEM,KAAMqC,EAAEC,OAAOC,SAAUJ,YAAY,eAEjKL,EAAAC,EAAAC,cAAC9D,EAAD,KACE4D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOqD,UAAW,GAAIC,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,OAAOiB,MAAO,CAAEiB,MAAO,qBAAyBhC,SAAU,SAACC,GAAD,OAAOY,EAAKvD,SAAS,CAAEO,SAAUoC,EAAEC,OAAOC,SAAUL,KAAK,WAAWC,YAAY,gBAKzLL,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CACErG,QAASvE,KAAKqE,MAAMgD,aACpB7F,MAAM,eACNI,KAAM,WACJuJ,SAASC,eAAe,cAAcC,SACtC,IACE,IAAIC,EAAaH,SAASI,YAAY,QAEtCC,MADUF,EAAa,WAAa,eAEpC1C,EAAKvD,SAAS,CACZgC,cAAc,IAEhB,MAAOsB,GACP6C,MAAM,iBAGV7J,OAAO,YACPwG,WAAW,SACX0C,SAAU,kBAAMjC,EAAKvD,SAAS,CAAEgC,cAAc,MAE9CI,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAMC,SAAU/K,KAAKgL,aAAc9B,UAAU,cAC3CzB,EAAAC,EAAAC,cAAC9D,EAAD,KACE4D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO6D,GAAG,aAAavD,MAAOlI,KAAKqE,MAAMD,IAAK8G,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,OAAOiB,MAAO,CAAEiB,MAAO,qBAAyBjC,YAAY,aAKnIL,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CACErG,QAASvE,KAAKqE,MAAMoE,mBACpBjH,MACEiG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,QAAMmB,MAAO,CAAE4C,SAAU,SAAzB,gBACAjE,EAAAC,EAAAC,cAACgE,EAAA,EAAD,CACE5D,SAAU,SAACG,GAAYU,EAAKvD,SAAS,CAAEiB,MAAO4B,KAC9CgB,UAAU,cACVhB,MAAOlI,KAAKqE,MAAMiC,MAClBsF,WAAYnE,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,UACrBiB,MAAO,CAAEiB,MAAO,qBAClBjB,MAAO,CAAE+C,MAAO,QAASzB,YAAa,QAAUtC,YAAY,0BAC3D9H,KAAKqE,MAAMG,KAAK6E,IAAI,SAAC7E,EAAMpB,GAC1B,OAAOqE,EAAAC,EAAAC,cAACzD,EAAD,CAAQd,IAAKA,EAAK8E,MAAO1D,EAAKmB,MAAOnB,EAAKmB,SAGrD8B,EAAAC,EAAAC,cAAA,QAAMmB,MAAO,CAAE4C,SAAU,SAAzB,kBACAjE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEM,MAAOlI,KAAKqE,MAAM4C,aAClB6B,MAAO,CAAE+C,MAAO,SAChBZ,UAAW,GAAIC,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,eAAeiB,MAAO,CAAEiB,MAAO,qBACjEhC,SAAU,SAACC,GAAD,OAAOY,EAAKvD,SAAS,CAAE4B,aAAce,EAAEC,OAAOC,SAAUJ,YAAY,oBAGpFlG,KAAM,WACJ,IAAI7B,EAAO6I,EACXnD,EAAMC,QAAQ,CACZvF,IAAK,WACLS,OAAQ,CACNoG,YAAa4B,EAAKvE,MAAM2C,YACxBV,MAAOsC,EAAKvE,MAAMiC,MAClBW,aAAc2B,EAAKvE,MAAM4C,aACzBxF,QAASyF,IAAYC,uBAAayB,EAAKvE,MAAMW,YAAYoC,uBAE3DnH,cARY,WASVF,EAAKsF,SAAS,CACZyG,eAAe,KAGnB7K,aAbY,WAcVlB,EAAKsF,SAAS,CACZyG,eAAe,KAGnBzK,aAlBY,WAmBVtB,EAAKsF,SAAS,CACZoD,oBAAoB,EACpBlE,SAAS,KAGbpD,QAxBY,WAyBVpB,EAAKsF,SAAS,CACZoD,oBAAoB,IAEtB1I,EAAK+G,WAIX+E,MAAO,IACPlK,OAAO,OACPwG,WAAW,SACX4D,cAAe,CAAEC,SAAUhM,KAAKiM,kBAAmBC,QAASlM,KAAKqE,MAAMyH,eACvEjB,SAAU,kBAAMjC,EAAKvD,SAAS,CAAEoD,oBAAoB,MAEpDhB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwE,EAAA,OAAD,CACEC,aAAc,CACZC,OAAQ,MAEVC,QAAS,CACPxM,QAAS,CAAC,SAAU,YAAa,WAAY,aAAc,OAAQ,YAAa,cAAe,OAAQ,WAAY,QAAS,QAAS,SAAU,WAC/IyM,MAAO,CACLrD,eAAWjG,EACXuJ,eAAWvJ,EACXwJ,oBAAgBxJ,EAChByJ,YAAY,EACZC,eAAe,EACfC,kBAAkB,EAClBC,eAAgB7M,KAAK8M,cAAc3C,KAAKnK,MACxC+M,cAAc,EACdC,YAAa,qDACbC,IAAK,CAAEC,SAAS,EAAOC,WAAW,GAClCC,YAAa,CACX/C,OAAQ,OACRwB,MAAO,UAIb7G,YAAahF,KAAKqE,MAAMW,YACxBqI,iBAAiB,eACjBC,gBAAgB,cAChBC,oBAAqBvN,KAAKuN,oBAAoBpD,KAAKnK,UAKzDyH,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CACErG,QAASvE,KAAKqE,MAAMQ,WACpBjD,KAAM5B,KAAKwN,MAAMrD,KAAKnK,MACtB6K,SAAU,kBAAMjC,EAAKvD,SAAS,CAAER,YAAY,KAC5ClD,OAAO,MACPwG,WAAW,SACX4D,cAAe,CAAEC,SAAUhM,KAAKyN,eAAgBvB,QAASlM,KAAKqE,MAAMoC,aAEpEgB,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAMC,iBAAiB,IAAI5F,SAAU/H,KAAK4N,cAAczD,KAAKnK,OAC3DyH,EAAAC,EAAAC,cAAC3D,EAAD,CAAS6J,IAAI,YAAYzK,IAAI,KAC3BqE,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEgF,QAAS,SACrBrG,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEM,MAAOlI,KAAKqE,MAAM2C,YAClBiE,UAAW,GAAIC,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,UAAUiB,MAAO,CAAEiB,MAAO,qBAC5DhC,SAAU,SAACC,GAAD,OAAOY,EAAKvD,SAAS,CAAE2B,YAAagB,EAAEC,OAAOC,SAAUJ,YAAY,uBAGnFL,EAAAC,EAAAC,cAAC3D,EAAD,CAAS6J,IAAI,cAAczK,IAAI,KAC7BqE,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEgF,QAAS,SACrBrG,EAAAC,EAAAC,cAACgE,EAAA,EAAD,CACE5D,SAAU,SAACG,GAAYU,EAAKvD,SAAS,CAAEiB,MAAO4B,KAC9CgB,UAAU,cACVhB,MAAOlI,KAAKqE,MAAMiC,MAClBsF,WAAYnE,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,UACrBiB,MAAO,CAAEiB,MAAO,qBAClBjB,MAAO,CAAE+C,MAAO,OAAQkC,aAAc,QAAUjG,YAAY,0BAC3D9H,KAAKqE,MAAMG,KAAK6E,IAAI,SAAC7E,EAAMpB,GAC1B,OAAOqE,EAAAC,EAAAC,cAACzD,EAAD,CAAQd,IAAKA,EAAK8E,MAAO1D,EAAKmB,MAAOnB,EAAKmB,SAGrD8B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEM,MAAOlI,KAAKqE,MAAMkC,QAClB0E,UAAW,GAAIC,OAAQzD,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,eAAeiB,MAAO,CAAEiB,MAAO,qBACjEhC,SAAU,SAACC,GAAD,OAAOY,EAAKvD,SAAS,CAAEkB,QAASyB,EAAEC,OAAOC,MAAM8F,QAAQ,OAAQ,IAAIA,QAAQ,sBAAuB,OAAQlG,YAAY,YAClIL,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAACmF,OAAO,WAClBxG,EAAAC,EAAAC,cAACuG,EAAA,EAAD,CAAUC,QAASnO,KAAKqE,MAAMmC,MAAOuB,SAAU,SAACC,GAAD,OAAKY,EAAKvD,SAAS,CAACmB,MAAMwB,EAAEC,OAAOkG,YAAlF,QAEF1G,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEmF,OAAQ,SAAUG,UAAW,UACzC3G,EAAAC,EAAAC,cAAC0G,EAAA,EAAD,CACEC,OAAQ7I,EAAMpG,IAAM,UACpB0I,SAAU/H,KAAKuO,aACfC,UAAU,EACVC,OAAO,YACP5H,iBAAiB,EACjB6H,SAAU,SAACtG,GACTQ,EAAKvD,SAAS,SAAAsJ,GAAkB,IAAf5J,EAAe4J,EAAf5J,SACTuE,EAAQvE,EAAS6J,QAAQxG,GACzByG,EAAc9J,EAAS+J,QAE7B,OADAD,EAAYE,OAAOzF,EAAO,GACnB,CACLvE,SAAU8J,MAIhBG,aAAc,SAAC5G,GAIb,OAHAQ,EAAKvD,SAAS,SAAA4J,GAAA,IAAGlK,EAAHkK,EAAGlK,SAAH,MAAmB,CAC/BA,SAAQ,GAAAmK,OAAA3J,OAAA4J,EAAA,EAAA5J,CAAMR,GAAN,CAAgBqD,QAEnB,GAETrD,SAAU/E,KAAKqE,MAAMU,UACpB/E,KAAKqE,MAAMU,SAASlC,OAAS,EAAI,KAAO4E,EAAAC,EAAAC,cAACqC,EAAA,EAAD,KAAQvC,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAM1B,KAAK,WAAnB,yBA5gBhCuH,IAAMC,WCJfC,QACW,cAA7B9P,OAAOC,SAAS8P,UAEe,UAA7B/P,OAAOC,SAAS8P,UAEhB/P,OAAOC,SAAS8P,SAASC,MACvB,2DCZNC,IAASC,OAAOjI,EAAAC,EAAAC,cAACgI,EAAD,MAASxE,SAASC,eAAe,SD2H3C,kBAAmBwE,WACrBA,UAAUC,cAAcC,MAAMjP,KAAK,SAAAkP,GACjCA,EAAaC","file":"static/js/main.e404907b.chunk.js","sourcesContent":["\r\nexport default class EjetConstant {\r\n    static DEBUG = false;\r\n    \r\n    static API = \"\";\r\n    static IMG_API = \"\";\r\n    static HTTP = ('https:' == window.location.protocol) ? \"https://\" : \"http://\";\r\n    static IMG_UPLOAD =  EjetConstant.API+'/api/static/img/upload';//\r\n    static FILE_UPLOAD =  EjetConstant.API+'/api/static/img/upload';//\r\n}","import Md5Lib from \"js-md5\";\r\nimport CONSTANT from './constant';\r\n//ModalInfo\r\n\r\nexport default class Config extends CONSTANT {\r\n\t/**\r\n\t * \r\n\t * @param {*} api 接口地址\r\n\t * @param {*} options \r\n\t *\toptions:{\r\n\t * \t\tparams:post参数\r\n\t * \t\tbeforeRequest:请求前事件\r\n\t * \t\tafterRequest：请求完成事件\r\n\t * \t\terror:function(data){} 业务逻辑错误回调\r\n\t * \t\tonError:请求错误事件（网络错误、超时等）\r\n\t * }\r\n\t * @param {*} callback 业务逻辑成功回调\r\n\t */\r\n\r\n\tstatic request(options) {\r\n\t\tlet that = this;\r\n\t\tif (options.beforeRequest && typeof options.beforeRequest === 'function') {\r\n\t\t\toptions.beforeRequest();\r\n\t\t}\r\n\t\tlet header = {\r\n\t\t\t'charset': 'UTF-8',\r\n\t\t\t'Content-Type': 'application/json; charset=utf-8',\r\n\t\t\t// 'Authorization': Config.getCookie('token'),\r\n\t\t};\r\n\t\treturn fetch(this.API + options.api, {\r\n\t\t\tmethod: options.method || \"POST\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\t// mode: \"cors\",\r\n\t\t\t// mode: \"no-cors\",\r\n\t\t\theaders: header,\r\n\t\t\tbody: JSON.stringify(options.params)\r\n\t\t}).then(function (response) {\r\n\t\t\treturn response.json();\r\n\t\t}).then(function (result) {\r\n\t\t\tif (options.afterRequest && typeof options.afterRequest === 'function') {\r\n\t\t\t\t//请求后回调\r\n\t\t\t\toptions.afterRequest();\r\n\t\t\t}\r\n\t\t\tif (result.status === 200) {\r\n\t\t\t\tif (typeof options.success === 'function') {\r\n\t\t\t\t\toptions.success(result.data)\r\n\t\t\t\t}\r\n\t\t\t} else if (result.status === 403) {\r\n\t\t\t\tif(options.sessionError){\r\n\t\t\t\t\toptions.sessionError();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (that.onerror) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.onerror = true;\r\n\t\t\t\tthat.error({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tcontent: result.msg,\r\n\t\t\t\t\tokText: \"知道了\",\r\n\t\t\t\t\tonOk: function () {\r\n\t\t\t\t\t\tthat.onerror = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}).catch(function (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t\tif (options.afterRequest && typeof options.afterRequest === 'function') {\r\n\t\t\t\toptions.afterRequest();\r\n\t\t\t}\r\n\t\t\tif (options.onError && typeof options.onError === 'function') {\r\n\t\t\t\t//异常回调\r\n\t\t\t\toptions.onError(ex);\r\n\t\t\t} else {\r\n\t\t\t\tif (that.onerror) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.onerror = true;\r\n\t\t\t\tthat.error({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tcontent: '系统异常！',\r\n\t\t\t\t\tokText: \"知道了\",\r\n\t\t\t\t\tonOk: function () {\r\n\t\t\t\t\t\tthat.onerror = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tstatic guid() {\r\n\t\tfunction S4() {\r\n\t\t\treturn (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\t\t}\r\n\t\treturn (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n\t}\r\n\r\n\tstatic saltMd5(str) {\r\n\t\treturn Md5Lib.hex(this.salt(str) + \"&\" + this.GUID + \"&\" + str);\r\n\t}\r\n\r\n\tstatic md5(str) {\r\n\t\treturn Md5Lib.hex(str);\r\n\t}\r\n\r\n\tstatic salt(str) {\r\n\t\tvar ss = '';\r\n\t\tfor (var i = 0; i < str.length; i++) {\r\n\t\t\tss += str.charAt(i).charCodeAt();\r\n\t\t}\r\n\t\treturn ss;\r\n\t}\r\n\tstatic deepclone(obj) {\r\n\t\tif (typeof obj !== 'object') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (obj === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (obj === undefined) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar newObj = obj instanceof Array ? [] : {}\r\n\t\tfor (var key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tnewObj[key] = typeof obj[key] === 'object' ? this.deepclone(obj[key]) : obj[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn newObj\r\n\t}\r\n\r\n}\r\n","import { Layout, Menu, Upload, Icon, Form, Button, Input, Modal, Avatar, Tabs, Select,Checkbox  } from 'antd';\r\nimport React from 'react';\r\nimport utils from './utils';\r\nimport reqwest from 'reqwest';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport './App.css';\r\nimport './editor.css';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst SubMenu = Menu.SubMenu;\r\nconst FormItem = Form.Item;\r\nconst TabPane = Tabs.TabPane;\r\nconst Option = Select.Option;\r\n\r\nexport default class extends React.Component {\r\n\r\n  src = \"/project/\";\r\n\r\n  state = {\r\n    collapsed: false,\r\n    visible: false,\r\n    menu: [],\r\n    user: localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null,\r\n    src: '/project/welcome',\r\n    visibleAdd: false,\r\n    addType: '1',\r\n    fileList: [],\r\n    editorState: EditorState.createEmpty(),\r\n  };\r\n\r\n  onEditorStateChange(editorState) {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  }\r\n\r\n  dologin = () => {\r\n    let that = this;\r\n    utils.request({\r\n      api: '/login',\r\n      params: {\r\n        user: this.state.name,\r\n        password: utils.md5(this.state.password)\r\n      },\r\n      beforeRequest() {\r\n        that.setState({\r\n          logining: true,\r\n        })\r\n      },\r\n      afterRequest() {\r\n        that.setState({\r\n          logining: false,\r\n        })\r\n      },\r\n      success(data) {\r\n        localStorage.setItem('user', JSON.stringify(data))\r\n        that.setState({\r\n          user: data,\r\n          visible: false\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  logout() {\r\n    let that = this;\r\n    utils.request({\r\n      api: '/logout',\r\n      afterRequest() {\r\n        localStorage.clear()\r\n        that.setState({\r\n          user: null,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  onCollapse = (collapsed) => {\r\n    console.log(collapsed);\r\n    this.setState({ collapsed });\r\n  }\r\n\r\n\r\n  componentWillMount() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    let that = this;\r\n    utils.request({\r\n      api: '/project',\r\n      method: 'GET',\r\n      success(data) {\r\n        that.setState({\r\n          menu: data\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  addTypeChange(key) {\r\n    this.setState({\r\n      addType: key\r\n    })\r\n  }\r\n  calcDisAbled() {\r\n    if (this.state.addType === '1') {\r\n      return !this.state.projectName\r\n    }\r\n\r\n    return !this.state.version || !this.state.addTo || !this.state.fileList || this.state.fileList.length < 1\r\n  }\r\n\r\n  calcDisAbledDoc() {\r\n    return !this.state.documentName || !this.state.addTo || !draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n  }\r\n\r\n  doAdd() {\r\n    let that = this;\r\n    switch (this.state.addType) {\r\n      case '1'://添加项目\r\n        utils.request({\r\n          api: '/project/add',\r\n          params: {\r\n            projectName: this.state.projectName\r\n          },\r\n          beforeRequest() {\r\n            that.setState({\r\n              addLoading: true,\r\n            })\r\n          },\r\n          afterRequest() {\r\n            that.setState({\r\n              addLoading: false,\r\n            })\r\n          },\r\n          sessionError() {\r\n            that.setState({\r\n              visibleAdd: false,\r\n              visible: true\r\n            })\r\n          },\r\n          success() {\r\n            that.setState({\r\n              visibleAdd: false\r\n            })\r\n            that.init();\r\n          }\r\n        })\r\n        break;\r\n      case '2':\r\n        this.handleUpload();\r\n    }\r\n  }\r\n\r\n  handleUpload = () => {\r\n    const { fileList } = this.state;\r\n    const formData = new FormData();\r\n    formData.append('file', fileList[0]);\r\n    formData.append('addTo', this.state.addTo)\r\n    formData.append('version', this.state.version)\r\n    formData.append('isGBK', this.state.isGBK?1:0)\r\n    this.setState({\r\n      addLoading: true,\r\n    });\r\n\r\n    // You can use any AJAX library you like\r\n    reqwest({\r\n      url: utils.API + '/upload',\r\n      method: 'post',\r\n      processData: false,\r\n      withCredentials: true,\r\n      data: formData,\r\n      success: (response) => {\r\n        response = JSON.parse(response.response);\r\n        if (response.status === 403) {\r\n          this.setState({\r\n            visibleAdd: false, visible: true, addLoading: false\r\n          })\r\n        } else {\r\n          if (response.status === 200) {\r\n            this.setState({\r\n              fileList: [],\r\n              addLoading: false,\r\n              visibleAdd: false\r\n            });\r\n            this.init()\r\n          }\r\n        }\r\n      },\r\n      error: () => {\r\n        this.setState({\r\n          addLoading: false,\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  share() {\r\n    this.setState({\r\n      sharevisible: true\r\n    })\r\n  }\r\n\r\n  removeProject(project) {\r\n    let password = '';\r\n    let that = this;\r\n    Modal.confirm({\r\n      title: 'Sure remove this project',\r\n      content: <Input type=\"password\" placeholder=\"password\" onChange={(e) => { password = e.target.value }} />,\r\n      okText: 'Ok',\r\n      cancelText: 'Cancel',\r\n      onOk: () => {\r\n        return utils.request({\r\n          api: '/project/remove',\r\n          params: {\r\n            projectName: project,\r\n            password: utils.md5(password)\r\n          },\r\n          success() {\r\n            that.init();\r\n          },\r\n          sessionError() {\r\n            that.setState({\r\n              visibleAdd: false,\r\n              visible: true\r\n            })\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  onImgUploaded(file) {\r\n    let that = this;\r\n    const formData = new FormData();\r\n    formData.append('img', file);\r\n    return new Promise((resolve, reject) => {\r\n      reqwest({\r\n        url: utils.API + '/upload/img',\r\n        method: 'post',\r\n        processData: false,\r\n        withCredentials: true,\r\n        data: formData\r\n      }).then(function (response) {\r\n        return JSON.parse(response.response);\r\n      }).then(function (resp) {\r\n        if (resp.status === 403) {\r\n          that.setState({\r\n            addDocumentVisible: false,\r\n            visible: true\r\n          })\r\n          reject()\r\n        } else {\r\n          if (resp.status === 200) {\r\n            resolve({ data: { link: utils.IMG_API + resp.data } })\r\n          }\r\n        }\r\n      }, function (err, msg) {\r\n        reject(err)\r\n      });\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let that = this;\r\n    return (\r\n      <Layout style={{ minHeight: '100vh' }}>\r\n        <Sider\r\n          theme=\"light\"\r\n          collapsible\r\n          collapsed={this.state.collapsed}\r\n          onCollapse={this.onCollapse}\r\n        >\r\n          <div className=\"logo\" />\r\n          <Menu mode=\"inline\">\r\n            {this.state.menu.map((menu, index) => {\r\n              return (<SubMenu\r\n                key={index}\r\n                title={<span><Icon type=\"project\" /><span>{menu.name}</span></span>}\r\n              >\r\n                {menu.project.map((smenu, i) => {\r\n                  let a = <div style={{ position: 'relative' }}>\r\n                    <span>{smenu}</span>\r\n                    {that.state.user ? <div style={{ position: 'absolute', right: '12px', display: 'inline-block' }} >\r\n                      <Icon className=\"project-remove\" onClick={(e) => { e.stopPropagation(); this.removeProject(menu.name+'/'+smenu) }} style={{ color: '#ff0000' }} type=\"delete\" />\r\n                    </div> : null}\r\n                  </div>\r\n                  return <Menu.Item key={index + '-' + i} onClick={() => this.setState({ src: this.src + menu.name + '/' + smenu })}>{a}</Menu.Item>\r\n                })}\r\n              </SubMenu>)\r\n            })}\r\n\r\n          </Menu>\r\n        </Sider>\r\n        <Layout className=\"App\">\r\n          <div className=\"header\">\r\n            {this.state.user ?\r\n              <div style={{ display: 'inline-block' }}>\r\n                <Button type=\"primary\" style={{ marginLeft: '12px' }} onClick={() => this.setState({ visibleAdd: true, addTo: '', version: '', fileList: [], projectName: '' })}>\r\n                  <Icon type=\"folder-add\" />New Project\r\n              </Button>\r\n                <Button type=\"primary\" onClick={() => this.setState({ addDocumentVisible: true, addTo: '', version: '', fileList: [], projectName: '', documentName: '' })}>\r\n                  <Icon type=\"file-word\" />New Document\r\n              </Button>\r\n                <Button type=\"default\" onClick={this.share.bind(this)}>\r\n                  <Icon type=\"share-alt\" />Share\r\n              </Button>\r\n              </div> :\r\n              <div style={{ display: 'inline-block' }}>\r\n                <Button style={{ marginLeft: '12px' }} type=\"default\" onClick={this.share.bind(this)}>\r\n                  <Icon type=\"share-alt\" />Share\r\n              </Button>\r\n              </div>}\r\n            {this.state.user ?\r\n              <span style={{ marginRight: '24px', height: '60px', display: 'inline-block', float: 'right' }}>\r\n                <Avatar style={{ backgroundColor: '#87d068', marginRight: '12px' }} icon=\"user\" />\r\n                <span style={{ color: '#333' }}>Hello！{this.state.user.username}</span>\r\n                <a href=\"javascript:void(0)\" style={{ marginLeft: '12px' }} onClick={() => this.logout.bind(this)()}>Logout</a></span> : <Button type=\"primary\" onClick={() => this.setState({ visible: true })}>Login</Button>\r\n            }\r\n          </div>\r\n          <Content style={{ height: '100%', position: 'relative' }}>\r\n            {/* <div className=\"side-ctrl\">\r\n              <div style={{ display: 'table-cell', textAlign: 'center', verticalAlign: 'middle' }}>\r\n                <Icon style={{ fontSize: '24px' }} type=\"share-alt\" />\r\n              </div>\r\n            </div> */}\r\n            <iframe src={this.state.src} title=\"Project\"></iframe>\r\n          </Content>\r\n        </Layout>\r\n        <Modal\r\n          title=\"Login\"\r\n          visible={this.state.visible}\r\n          onOk={this.dologin}\r\n          onCancel={() => this.setState({ visible: false })}\r\n          okText=\"Login\"\r\n          cancelText=\"Cancel\"\r\n        >\r\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n            <FormItem>\r\n              <Input maxLength={20} prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} onChange={(e) => this.setState({ name: e.target.value })} placeholder=\"user name\" />\r\n            </FormItem>\r\n            <FormItem>\r\n              <Input maxLength={16} prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} onChange={(e) => this.setState({ password: e.target.value })} type=\"password\" placeholder=\"password\" />\r\n            </FormItem>\r\n          </Form>\r\n        </Modal>\r\n\r\n        <Modal\r\n          visible={this.state.sharevisible}\r\n          title=\"分享\"\r\n          onOk={() => {\r\n            document.getElementById('share-link').select();\r\n            try {\r\n              var successful = document.execCommand('copy');\r\n              var msg = successful ? 'Succeed!' : 'not support';\r\n              alert(msg);\r\n              this.setState({\r\n                sharevisible: false\r\n              })\r\n            } catch (err) {\r\n              alert('not support');\r\n            }\r\n          }}\r\n          okText=\"Copy Link\"\r\n          cancelText=\"Cancel\"\r\n          onCancel={() => this.setState({ sharevisible: false })}\r\n        >\r\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n            <FormItem>\r\n              <Input id=\"share-link\" value={this.state.src} prefix={<Icon type=\"link\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"share\" />\r\n            </FormItem>\r\n          </Form>\r\n        </Modal>\r\n\r\n        <Modal\r\n          visible={this.state.addDocumentVisible}\r\n          title={\r\n            <div>\r\n              <span style={{ fontSize: '14px' }}>Add to：</span>\r\n              <Select\r\n                onChange={(value) => { this.setState({ addTo: value }) }}\r\n                className=\"prefix-icon\"\r\n                value={this.state.addTo}\r\n                suffixIcon={<Icon type=\"project\"\r\n                  style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                style={{ width: '300px', marginRight: '12px' }} placeholder=\"chose the target group\">\r\n                {this.state.menu.map((menu, key) => {\r\n                  return <Option key={key} value={menu.name}>{menu.name}</Option>\r\n                })}\r\n              </Select>\r\n              <span style={{ fontSize: '14px' }}>Document：</span>\r\n              <Input\r\n                value={this.state.documentName}\r\n                style={{ width: '300px' }}\r\n                maxLength={20} prefix={<Icon type=\"file-unknown\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                onChange={(e) => this.setState({ documentName: e.target.value })} placeholder=\"document title\" />\r\n            </div>\r\n          }\r\n          onOk={() => {\r\n            let that = this;\r\n            utils.request({\r\n              api: '/doc/add',\r\n              params: {\r\n                projectName: this.state.projectName,\r\n                addTo: this.state.addTo,\r\n                documentName: this.state.documentName,\r\n                content: draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n              },\r\n              beforeRequest() {\r\n                that.setState({\r\n                  addDocLoading: true,\r\n                })\r\n              },\r\n              afterRequest() {\r\n                that.setState({\r\n                  addDocLoading: false,\r\n                })\r\n              },\r\n              sessionError() {\r\n                that.setState({\r\n                  addDocumentVisible: false,\r\n                  visible: true\r\n                })\r\n              },\r\n              success() {\r\n                that.setState({\r\n                  addDocumentVisible: false\r\n                })\r\n                that.init();\r\n              }\r\n            })\r\n          }}\r\n          width={900}\r\n          okText=\"Save\"\r\n          cancelText=\"Cancel\"\r\n          okButtonProps={{ disabled: this.calcDisAbledDoc(), loading: this.state.addDocLoading }}\r\n          onCancel={() => this.setState({ addDocumentVisible: false })}\r\n        >\r\n          <div>\r\n            <Editor\r\n              localization={{\r\n                locale: 'zh',\r\n              }}\r\n              toolbar={{\r\n                options: ['inline', 'blockType', 'fontSize', 'fontFamily', 'list', 'textAlign', 'colorPicker', 'link', 'embedded', 'emoji', 'image', 'remove', 'history'],\r\n                image: {\r\n                  className: undefined,\r\n                  component: undefined,\r\n                  popupClassName: undefined,\r\n                  urlEnabled: true,\r\n                  uploadEnabled: true,\r\n                  alignmentEnabled: true,\r\n                  uploadCallback: this.onImgUploaded.bind(this),\r\n                  previewImage: true,\r\n                  inputAccept: 'image/gif,image/jpeg,image/jpg,image/png,image/svg',\r\n                  alt: { present: false, mandatory: false },\r\n                  defaultSize: {\r\n                    height: 'auto',\r\n                    width: 'auto',\r\n                  },\r\n                },\r\n              }}\r\n              editorState={this.state.editorState}\r\n              wrapperClassName=\"demo-wrapper\"\r\n              editorClassName=\"demo-editor\"\r\n              onEditorStateChange={this.onEditorStateChange.bind(this)}\r\n            />\r\n          </div>\r\n        </Modal>\r\n\r\n        <Modal\r\n          visible={this.state.visibleAdd}\r\n          onOk={this.doAdd.bind(this)}\r\n          onCancel={() => this.setState({ visibleAdd: false })}\r\n          okText=\"Add\"\r\n          cancelText=\"Cancel\"\r\n          okButtonProps={{ disabled: this.calcDisAbled(), loading: this.state.addLoading }}\r\n        >\r\n          <Tabs defaultActiveKey=\"1\" onChange={this.addTypeChange.bind(this)}>\r\n            <TabPane tab=\"Add Group\" key=\"1\">\r\n              <div style={{ padding: '24px' }}>\r\n                <Input\r\n                  value={this.state.projectName}\r\n                  maxLength={20} prefix={<Icon type=\"project\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  onChange={(e) => this.setState({ projectName: e.target.value })} placeholder=\"input group name\" />\r\n              </div>\r\n            </TabPane>\r\n            <TabPane tab=\"Add Project\" key=\"2\">\r\n              <div style={{ padding: '24px' }}>\r\n                <Select\r\n                  onChange={(value) => { this.setState({ addTo: value }) }}\r\n                  className=\"prefix-icon\"\r\n                  value={this.state.addTo}\r\n                  suffixIcon={<Icon type=\"project\"\r\n                    style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  style={{ width: '100%', marginBottom: '12px' }} placeholder=\"chose the target group\">\r\n                  {this.state.menu.map((menu, key) => {\r\n                    return <Option key={key} value={menu.name}>{menu.name}</Option>\r\n                  })}\r\n                </Select>\r\n                <Input\r\n                  value={this.state.version}\r\n                  maxLength={20} prefix={<Icon type=\"file-unknown\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  onChange={(e) => this.setState({ version: e.target.value.replace(/\\s+/g, '').replace(/([^\\u0000-\\u00FF])/g, '') })} placeholder=\"version\" />\r\n                <div style={{margin:'12px 0'}}>\r\n                  <Checkbox checked={this.state.isGBK} onChange={(e)=>this.setState({isGBK:e.target.checked})}>GBK</Checkbox>\r\n                </div>\r\n                <div style={{ margin: '12px 0', textAlign: 'right' }}>\r\n                  <Upload\r\n                    action={utils.API + '/upload'}\r\n                    onChange={this.handleChange}\r\n                    multiple={false}\r\n                    accept='.zip,.rar'\r\n                    withCredentials={true}\r\n                    onRemove={(file) => {\r\n                      this.setState(({ fileList }) => {\r\n                        const index = fileList.indexOf(file);\r\n                        const newFileList = fileList.slice();\r\n                        newFileList.splice(index, 1);\r\n                        return {\r\n                          fileList: newFileList,\r\n                        };\r\n                      });\r\n                    }}\r\n                    beforeUpload={(file) => {\r\n                      this.setState(({ fileList }) => ({\r\n                        fileList: [...fileList, file],\r\n                      }));\r\n                      return false;\r\n                    }}\r\n                    fileList={this.state.fileList}>\r\n                    {this.state.fileList.length > 0 ? null : <Button><Icon type=\"upload\" /> Upload</Button>}\r\n                  </Upload>\r\n                </div>\r\n              </div>\r\n            </TabPane>\r\n          </Tabs>\r\n        </Modal>\r\n      </Layout>\r\n    );\r\n  }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}